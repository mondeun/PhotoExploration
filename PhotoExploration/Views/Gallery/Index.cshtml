@model IEnumerable<PhotoExploration.Models.GalleryPhotoViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Gallery</h2>

@{
    var options = new AjaxOptions
    {
        UpdateTargetId = "upload",
        InsertionMode = InsertionMode.Replace,
        HttpMethod = "GET"
    };
}

<div class="container">
    <div class="col-sm-12">
        @Ajax.ActionLink("Upload Photo", "UploadPhoto", options)
        <div id="upload"></div>
    </div>
    <div class="row" id="galleryList">
        @foreach (var photo in Model)
        {
            <div class="col-sm-3">
                <a href="@string.Format($"/Gallery/Details/{photo.Id}")" class="thumbnail">
                    <img src="~/Photos/@photo.FileName" alt="@photo.Name">
                    <h3 class="caption">@photo.Name</h3>
                </a>
            </div>
        }
    </div>
</div>